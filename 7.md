# (2024-04-12) Sedar: Obtaining High-Quality Seeds for DBMS Fuzzing via Cross-DBMS SQL Transfer

<table><tbody><tr><td style="background-color: rgb(219, 238, 221);"><p><strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(219, 238, 221)">Author:</span></span></strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(219, 238, 221)"> Jingzhou Fu; Jie Liang; Zhiyong Wu; Yu Jiang;</span></span></p></td></tr><tr><td style="background-color: rgb(243, 250, 244);"><p><strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(243, 250, 244)">Journal: (Publication Date: 2024-04-12)</span></span></strong></p></td></tr><tr><td style="background-color: rgb(219, 238, 221);"><p><strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(219, 238, 221)">Journal Tags:</span></span></strong></p></td></tr><tr><td style="background-color: rgb(243, 250, 244);"><p><strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(243, 250, 244)">Local Link: </span></span></strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(243, 250, 244)"><a href="zotero://open-pdf/0_UAITPNDU" rel="noopener noreferrer nofollow">Fu ç­‰ - 2024 - Sedar Obtaining High-Quality Seeds for DBMS Fuzzing via Cross-DBMS SQL Transfer.pdf</a></span></span></p></td></tr><tr><td style="background-color: rgb(219, 238, 221);"><p><strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(219, 238, 221)">DOI: </span></span></strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(219, 238, 221)"><a href="https://doi.org/10.1145/3597503.3639210" rel="noopener noreferrer nofollow">10.1145/3597503.3639210</a></span></span></p></td></tr><tr><td style="background-color: rgb(243, 250, 244);"><p><strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(243, 250, 244)">Abstract: </span></span></strong><em><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(243, 250, 244)">Effective DBMS fuzzing relies on high-quality initial seeds, which serve as the starting point for mutation. These initial seeds should incorporate various DBMS features to explore the state space thoroughly. While built-in test cases are typically used as initial seeds, many DBMSs lack comprehensive test cases, making it difficult to apply state-of-the-art fuzzing techniques directly.</span></span></em></p></td></tr><tr><td style="background-color: rgb(219, 238, 221);"><p><strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(219, 238, 221)">Note Date: </span></span></strong><span style="color: rgb(25, 60, 71)"><span style="background-color: rgb(219, 238, 221)">2024/8/16 10:16:12</span></span></p></td></tr></tbody></table>

## ğŸ“œ Research Core

* * *

> Tips: What was done, what problem was solved, innovations and shortcomings?

### âš™ï¸ Content

æ–‡ç« æå‡ºäº†ä¸€ç§åä¸ºSedarçš„æ–°æ–¹æ³•ï¼Œç”¨äºé€šè¿‡è·¨DBMSï¼ˆæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰SQLè¿ç§»ç”Ÿæˆé«˜è´¨é‡çš„æ¨¡ç³Šæµ‹è¯•åˆå§‹ç§å­ã€‚Sedaré€šè¿‡æ‰§è¡Œç°æœ‰çš„SQLæµ‹è¯•ç”¨ä¾‹ï¼Œæ•è·æ¨¡å¼ä¿¡æ¯ï¼Œå¹¶åˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ç”Ÿæˆä¸ç›®æ ‡DBMSè¯­æ³•å…¼å®¹çš„æ–°æµ‹è¯•ç”¨ä¾‹ã€‚

### ğŸ’¡ Innovations

**è·¨DBMS SQLè¿ç§»**ï¼šSedaråˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰å°†å…¶ä»–DBMSçš„SQLæµ‹è¯•ç”¨ä¾‹è¿ç§»ä¸ºä¸ç›®æ ‡DBMSè¯­æ³•å…¼å®¹çš„æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ›æ–°çš„æµ‹è¯•ç§å­ç”Ÿæˆæ–¹æ³•ã€‚

**å¯å˜æ€§ç»†åŒ–**ï¼šé€šè¿‡åœ¨æ¨¡ç³Šæµ‹è¯•è¿‡ç¨‹ä¸­æš‚æ—¶æ³¨é‡Šæ— æ³•è§£æçš„éƒ¨åˆ†ï¼Œä½¿å…¶åœ¨åç»­çªå˜åæ¢å¤ï¼Œä»è€Œä½¿ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹èƒ½å¤Ÿè¢«æ¨¡ç³Šæµ‹è¯•å·¥å…·æ­£ç¡®è§£æå’Œçªå˜ã€‚

â€œSedar utilizes LLMs to transfer SQL statements. It generates prompts that include the individual SQL statements along with their corresponding descriptions, aiding the process of LLMsâ€ ([Fu ç­‰, 2024, p. 1801](zotero://select/library/items/SSHER3TV)) ([pdf](zotero://open-pdf/library/items/UAITPNDU?page=3))

â€œWhen certain sections of the generated test cases cannot be parsed by the fuzzersâ€™ mutators, these sections are marked as comments within the SQL statementsâ€ ([Fu ç­‰, 2024, p. 1800](zotero://select/library/items/SSHER3TV)) ([pdf](zotero://open-pdf/library/items/UAITPNDU?page=2))

### ğŸ§© Shortcomings

## ğŸ” Research Content

* * *

### ğŸ’§ Data

Sedarä½¿ç”¨ä»SQLiteã€MySQLã€PostgreSQLç­‰æµè¡ŒDBMSä¸­æ”¶é›†çš„å†…å»ºæµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šç”Ÿæˆç›®æ ‡DBMSï¼ˆå¦‚MonetDBã€Virtuosoã€DuckDBã€ClickHouseï¼‰çš„åˆå§‹ç§å­è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ã€‚

â€œwe collected built-in test cases from other DBMS repositories [23, 27, 39] for SQL transfer, including SQLite, MySQL, and PostgreSQLâ€ ([Fu ç­‰, 2024, p. 1804](zotero://select/library/items/SSHER3TV)) ([pdf](zotero://open-pdf/library/items/UAITPNDU?page=6))

### ğŸ‘©ğŸ»â€ğŸ’» Method

Sedaré‡‡ç”¨äº†ä¸‰æ­¥æµç¨‹æ¥ç”Ÿæˆåˆå§‹ç§å­ï¼š

1. **æ¨¡å¼æ•è·**ï¼šæ‰§è¡Œå…¶ä»–DBMSçš„SQLæµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶åœ¨æ‰§è¡ŒæœŸé—´æ•è·æ•°æ®åº“æ¨¡å¼ä¿¡æ¯ã€‚
2. **SQLè¿ç§»**ï¼šåˆ©ç”¨LLMså’Œæ•è·çš„æ¨¡å¼ä¿¡æ¯ï¼Œå°†æµ‹è¯•ç”¨ä¾‹è¿ç§»ä¸ºç¬¦åˆç›®æ ‡DBMSè¯­æ³•çš„SQLè¯­å¥ã€‚
3. **å¯å˜æ€§ç»†åŒ–**ï¼šæ³¨é‡Šæ‰æµ‹è¯•ç”¨ä¾‹ä¸­æ— æ³•è§£æçš„éƒ¨åˆ†ï¼Œä½¿å…¶èƒ½å¤Ÿè¢«æ¨¡ç³Šæµ‹è¯•å·¥å…·è§£æå’Œçªå˜ï¼Œæœ€ååœ¨çªå˜åå–æ¶ˆæ³¨é‡Šã€‚

â€œThe overall design of Sedar is shown in Figure 2, which contains three steps: schema capture, SQL transfer, and mutability refinement. The following paragraphs present the details of each step.â€ ([Fu ç­‰, 2024, p. 1801](zotero://select/library/items/SSHER3TV)) ([pdf](zotero://open-pdf/library/items/UAITPNDU?page=3))

### ğŸ”¬ Experiment

Sedaré€šè¿‡åœ¨MonetDBã€Virtuosoã€DuckDBå’ŒClickHouseä¸Šè¿›è¡Œå®éªŒï¼Œä¸æœªè¿ç§»çš„åˆå§‹ç§å­ç›¸æ¯”ï¼ŒSedarç”Ÿæˆçš„åˆå§‹ç§å­æ˜¾è‘—æé«˜äº†æ¨¡ç³Šæµ‹è¯•çš„ä»£ç è¦†ç›–ç‡å’Œæ¼æ´æ£€æµ‹èƒ½åŠ›ã€‚Sedarå‘ç°äº†70ä¸ªæ–°çš„æ¼æ´ï¼Œå…¶ä¸­19ä¸ªå·²è¢«åˆ†é…CVEç¼–å·ã€‚

â€œWith Sedar employed, Sqirrel and Griffin have found 70 unknown bugs in 3 days, and 60 of them were uniquely discovered by Sedar with transferred seedâ€ ([Fu ç­‰, 2024, p. 1804](zotero://select/library/items/SSHER3TV)) ([pdf](zotero://open-pdf/library/items/UAITPNDU?page=6))

### ğŸ“œ Conclusion

Sedaré€šè¿‡è·¨DBMS SQLè¿ç§»ç”Ÿæˆé«˜è´¨é‡çš„æ¨¡ç³Šæµ‹è¯•åˆå§‹ç§å­ï¼Œæ˜¾è‘—æé«˜äº†æ¨¡ç³Šæµ‹è¯•å·¥å…·çš„ä»£ç è¦†ç›–ç‡å’Œæ¼æ´æ£€æµ‹èƒ½åŠ›ï¼Œå°¤å…¶æ˜¯åœ¨ç›®æ ‡DBMSç¼ºä¹å†…å»ºæµ‹è¯•ç”¨ä¾‹çš„æƒ…å†µä¸‹ã€‚

## ğŸ¤” Personal Summary

* * *

> Tips: What aspects did you question, how do you think it can be improved?

### æ–‡ç« æå‡ºäº†ä¸€ç§åä¸ºSedarçš„æ–°æ–¹æ³•ï¼Œç”¨äºé€šè¿‡è·¨DBMSï¼ˆæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰SQLè¿ç§»ç”Ÿæˆé«˜è´¨é‡çš„æ¨¡ç³Šæµ‹è¯•åˆå§‹ç§å­ã€‚Sedaré€šè¿‡æ‰§è¡Œç°æœ‰çš„SQLæµ‹è¯•ç”¨ä¾‹ï¼Œæ•è·æ¨¡å¼ä¿¡æ¯ï¼Œå¹¶åˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ç”Ÿæˆä¸ç›®æ ‡DBMSè¯­æ³•å…¼å®¹çš„æ–°æµ‹è¯•ç”¨ä¾‹ã€‚10. æ–‡çŒ®å¤„ç†åˆ†æï¼š`Sedar: Obtaining High-Quality Seeds for DBMS Fuzzing via Cross-DBMS SQL Transfer`

#### 7.1. åºå· + æ–‡ç« åç§°

åºå·: 10  
æ–‡ç« åç§°: *Sedar: Obtaining High-Quality Seeds for DBMS Fuzzing via Cross-DBMS SQL Transfer*

#### 7.2. æŸ¥çœ‹æ˜¯å¦åœ¨GitHubæˆ–å…¶ä»–ç½‘ç«™å­˜åœ¨ç›¸åº”ä»£ç 

ä»£ç å­˜åœ¨æ€§: æ–‡ä¸­æœªæåˆ°å…·ä½“çš„GitHubæˆ–å…¶ä»–ä»£ç æ‰˜ç®¡å¹³å°é“¾æ¥ã€‚

#### 7.3. åŒºåˆ†å¯¹LLMè¿›è¡ŒFuzzè¿˜æ˜¯ç”¨LLMè¾…åŠ©Fuzz

è¯¥æ–‡çŒ®ä½¿ç”¨LLMè¾…åŠ©fuzzingï¼Œä¸»è¦é€šè¿‡LLMç”Ÿæˆé«˜è´¨é‡çš„ç§å­è¾“å…¥æ¥æ”¹è¿›DBMSæ¨¡ç³Šæµ‹è¯•ã€‚

#### 7.4. æ¯ä¸ªfuzzçš„ç”Ÿæˆæµ‹è¯•æ ·ä¾‹æ˜¯ä»€ä¹ˆï¼Œå¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œå’Œç”Ÿæˆç­–ç•¥

- ç”Ÿæˆçš„æµ‹è¯•æ ·ä¾‹: SQLè¯­å¥ï¼ŒåŒ…æ‹¬å¸¸è§SQLè¯­å¥å’Œæ•°æ®åº“ç‰¹æœ‰çš„SQLè¯­å¥ã€‚
- æµ‹è¯•å¯¹è±¡: å„ç§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰ï¼Œå¦‚MonetDBã€Virtuosoã€DuckDBã€ClickHouseã€‚
- ç”Ÿæˆç­–ç•¥:
  
    - **SQLè¯­å¥è¿ç§»**: ä½¿ç”¨LLMä»å…¶ä»–DBMSçš„æµ‹è¯•ç”¨ä¾‹ä¸­æå–å’Œè½¬æ¢SQLè¯­å¥ï¼Œä»¥ç”Ÿæˆç¬¦åˆç›®æ ‡DBMSè¯­æ³•çš„æµ‹è¯•ç§å­ã€‚
    - **æ¨¡å¼æ•è·**: åœ¨æ‰§è¡ŒSQLè¯­å¥æ—¶æ•è·æ•°æ®åº“çš„æ¨¡å¼ä¿¡æ¯ï¼Œå¹¶åˆ©ç”¨è¿™äº›ä¿¡æ¯å¸®åŠ©LLMç”Ÿæˆç¬¦åˆç›®æ ‡DBMSçš„SQLè¯­å¥ã€‚
    - **å¯å˜æ€§ç»†åŒ–**: åœ¨æ¨¡ç³Šæµ‹è¯•å™¨æ— æ³•è§£æçš„SQLè¯­å¥éƒ¨åˆ†æ·»åŠ æ³¨é‡Šï¼Œä»¥å…è®¸æ¨¡ç³Šæµ‹è¯•å™¨ç»§ç»­å˜å¼‚å…¶ä»–éƒ¨åˆ†ï¼Œå¹¶åœ¨å˜å¼‚å®Œæˆåå–æ¶ˆæ³¨é‡Šã€‚

#### 7.5. è‹¥æ˜¯Fuzz for LLMï¼Œè¯·æ³¨æ˜æµ‹è¯•çš„æ˜¯LLMå“ªä¸€éƒ¨åˆ†

è¯¥æ–‡çŒ®æœªæ¶‰åŠå¯¹LLMçš„fuzzingã€‚

#### 7.6. è‹¥æ˜¯LLM for Fuzzï¼Œè¯·æ³¨æ˜LLMåœ¨Fuzzä¸­å‘æŒ¥äº†ä»€ä¹ˆä½œç”¨

LLMåœ¨fuzzingä¸­èµ·åˆ°äº†å…³é”®ä½œç”¨ï¼Œä¸»è¦ç”¨äºç”Ÿæˆé€‚åˆç›®æ ‡DBMSçš„SQLæµ‹è¯•ç§å­ï¼Œä»è€Œæé«˜æ¨¡ç³Šæµ‹è¯•çš„ä»£ç è¦†ç›–ç‡å’Œæ¼æ´æ£€æµ‹èƒ½åŠ›ã€‚

### æ€»ç»“

æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„DBMSæ¨¡ç³Šæµ‹è¯•æ–¹æ³•Sedarï¼Œä½¿ç”¨LLMè¾…åŠ©ç”Ÿæˆé«˜è´¨é‡çš„SQLæµ‹è¯•ç§å­ï¼Œé€šè¿‡è·¨DBMSçš„SQLè¯­å¥è¿ç§»ï¼Œæ”¹è¿›äº†æ¨¡ç³Šæµ‹è¯•çš„æ•ˆæœã€‚æ–‡ä¸­æ²¡æœ‰æåˆ°ä»£ç æ˜¯å¦åœ¨GitHubæˆ–å…¶ä»–å¹³å°ä¸Šå‘å¸ƒã€‚